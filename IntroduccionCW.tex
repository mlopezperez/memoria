\chapter{Computación con palabras}

\section{Introducción}
En este capítulo introduciremos los conceptos matemáticos que necesitaremos para implementar los métodos de valoración de empresas usando computación con palabras.

Veremos en primer lugar una introducción a la lógica difusa y al concepto de etiqueta lingüística.

Estudiaremos después el modelo de 2-tuplas para la representación de la información lingüística e introduciremos las operaciones sobre las tuplas. 

Por último veremos las distintas formas de agregar la información lingüística representada en 2-tuplas a un proceso de decisión. Presentaremos primero el método de los expertones y a continuación el operador $LAMA$ de mayoría lingüística.

\section{Lógica difusa y computación con palabras}

\subsection{Lógica difusa}
Según el diccionario de la Real Academia de la Lengua Española, la lógica matemática es la ciencia que expone las leyes, modos y formas del conocimiento científico utilizando un lenguaje simbólico artificial y haciendo abstracción de los contenidos, mientras que la lógica difusa es la que admite una cierta incertidumbre entre la verdad o falsedad de sus proposiciones, a semejanza del raciocinio humano.	

Este concepto nace de los distintos artículos publicados principalmente por Lotfi A. Zadeh, en el que explica su teoría de conjuntos difusos y que pone las bases para un sistema lógico con distintos grados de "`verdad"'.\cite{FuzzyZadeh}
	
En términos más específicos, lo que distingue a la lógica difusa es que, a diferencia de los sistemas lógicos clásicos, se centra en modelar los métodos imprecisos de razonamiento que juegan un papel esencial en la capacidad humana de tomar decisiones racionales en un entorno de incertidumbre e imprecisión. Esta habilidad depende de nuestra habilidad para inferir una respuesta aproximada a una pregunta basada en un conjunto de conocimientos que es inexacto, incompleto, o que no es totalmente confiable.

Hay dos motivos principales por los cuales los sistemas de lógica clásica no pueden abordar éste tipo de problemas. Primero, no proveen un sistema para representar el significado de las proposiciones expresadas en lenguaje natural cuando el significado es impreciso; y segundo, en aquellos casos en los cuales el significado puede ser representado mediante un lenguaje simbólico, como por ejemplo una red semántica, no tenemos un mecanismo de inferencia.

La lógica difusa afronta estos problemas. En primer lugar, el significado de una proposición léxicamente imprecisa es representado utilizando una restricción "`elástica"' sobre una variable.Y en segundo lugar, la respuesta a una consulta se deduce a través de la propagación de restricciones elásticas.
	
Aunque la lógica difusa puede ser vista como una extensión de la lógica multivaluada, sus usos y objetivos son un tanto diferentes. Así pues, el hecho de que la lógica difusa trate sobre aproximaciones más que de modelos precisos, implica que, en general, las cadenas de razonamiento son cortas y el rigor no juega un papel importante, como sí hace en los sistemas clásicos. Podríamos decir, en breve, que en la lógica difusa todo, incluso la VERDAD, es cuestión de grados.	

\subsection{Conjuntos difusos}
Ampliar-fusilar qué es un conjunto borroso y las funciones de pertenencia. 
	
\subsection{Computación con palabras}

Como su propio nombre indica, la computación con palabras (abreviada como \emph{CW} por su nombre en inglés, \emph{Computing with Words}) es una metodología en la cual se utilizan palabras en lugar de números para computar y razonar.

En su sentido tradicional, la computación implica, en su mayor parte, la manipulación de números y simbolos. Por el contrario, los humanos emplean generalmente palabras para "`computar"' y razonar, llegando a conclusiones, expresadas en palabras, a partir de premisas expresadas en lenguaje natural o en forma de percepciones. Estas palabras utilizadas en lenguaje natural tienen connotaciones "`difusas"', en el sentido de que no expresan verdades absolutas y están sujetas a interpretación. Esto mismo se aplica al papel que juegan las palabras en la CW. 

Igual que la lógica difusa, la computación con palabras se basa también en los trabajos de Lotfi A. Zadeh, exponiendo expone los principios en vários artículos, como por ejemplo \emph{Outline of a new approach to the analysis of complex systems and decision processes}\cite{AnalysisZadeh} y \emph{PRUF--A Meaning Representation Language for Natural Languages}\cite{PRUFZadeh}, y además relacionandolo con los conceptos de la lógica difusa en el artículo \emph{Fuzzy Logic = Computing with words}\cite{CWZadeh}.

\subsection{Etiquetas lingüísticas}

Para la representación de la información cualitativa utilizaremos el concepto de \emph{etiqueta lingüística}. Una etiqueta lingüística es una función matemática que nos ayuda a representar conceptos difusos como \emph{totalmente}, \emph{mucho}, \emph{bastante}, \emph{nada}, etc. 

Según se usen conjuntos con mayor o menor granularidad (número de etiquetas), se estarán definiendo escalas de mayor o menor precisión para la representación de la información. Estas funciones son transparentes a los expertos, ya que éstos emiten sus juicios en lenguaje natural haciendo uso de dichas etiquetas, siendo dentro del sistema de decisión donde se realiza la traslación de estas opiniones a al escala determinada para el problema.

Según el tipo de función que se use se pueden encontrar etiquetas de diversa forma y propiedades, como por ejemplo: triangulares, trapezoidales o gaussianas, presentando cada una de ellas diversas ventajas a la hora de modelar la información. Comúnmente y por simplificación, la representación mas usada es la triangular. En la figura \ref{fig:Etiquetas1} se muestran tres escalas distintas que nos permiten dar tres grados de precisión al lenguaje natural.

\begin{figure}[ht]
	\centering
		\includegraphics[scale=0.45]{./Imagenes/Etiquetas1}
	\caption{Etiquetas triangulares en tres escalas distintas}
	\label{fig:Etiquetas1}
\end{figure}

\textit{Introducir funciones de pertenencia?}

\section{El modelo de 2-tuplas}

\subsection{Representación con 2-tuplas}
Este modelo de representación de información lingüística denominado \emph{2-tuplas} fue introducido por Francisco Herrera y Luis Martínez en su artículo \emph{A 2-tuple fuzzy linguistic representation model for computing with words}\cite{tuplasHerrera}. Está basado en el modelo simbólico y toma como base el concepto de \emph{Traducción Simbólica}. La información se representa mediante una 2-tupla $(p,\alpha)$, donde $p$ es un término lingüístico y $\alpha$ es un valor numérico que apoya al valor de la traducción simbólica.

El primer paso para la representación del información linguistica es generar un conjunto de términos lingüísticos que podamos usar para expresar información. Una opción para generar este conjunto es suministrar una gramática de contexto libre. En cualquier caso, este enfoque implica establecer previamente los conjuntos borrosos asociados con cáda término, y las reglas semánticas que los modifican, y esto no es tarea sencilla. 

Otra alternativa consiste en proveer directamente el conjunto de términos en el que consideramos todos los términos distribuidos en una escala y sobre el cual se define un orden total. Por ejemplo, un conjunto $P$ de siete términos podría darse así:

\begin{multline*}	 
	P=\{p_{0}=\ lo\ peor,\ p_{1}=muy\ malo,\ p_{2}=malo,\ p_{3}=medio,\\ 
	\ p_{4}=bueno,\ p_{6}=muy\ bueno,\ p_{7}=lo\ mejor\}
\end{multline*}

En este proyecto utilizaremos etiquetas con pertenencia triangular (Figura \ref{fig:Etiquetas2} para simplificar los cálculos matemáticos. Por ejemplo, podemos asignar la siguiente semántica (Tabla \ref{tab:SemanticaEtiquetas}) a un conjunto de siete términos parecido al definido anteriormente.

\begin{figure}[ht]
	\centering
		\includegraphics[scale=0.35]{./Imagenes/Etiquetas2}
		\caption{Representación de las etiquetas lingüísticas}
		\label{fig:Etiquetas2}
\end{figure}

\begin{table}[ht]
	\centering
		\begin{tabular}{ c c }
		\toprule
		\textbf{Etiqueta} & \textbf{Semántica} \\ 
		\midrule
		 Lo más alto	& 0.83, 1, 1 \\	
		 Muy alto			& 0.67, 0.83, 1 \\	
		 Alto					& 0.5, 0.67, 0.83 \\	
		 Medio				& 0.33, 0.5, 0.67 \\	
		 Bajo					& 0.17, 0.33, 0.5 \\	
		 Muy bajo			& 0, 0.17, 0.33 \\	
		 Lo más bajo	& 0, 0, 0.17 \\	
		 \bottomrule
		\end{tabular}
	\caption{Semántica de las Etiquetas}
	\label{tab:SemanticaEtiquetas}
\end{table}

La traducción simbólica de un término linguístico $p_{i}\in\left\{ p_{0}, p_{1}, \ldots, p_{g}\right\}$ es un valor numérico perteneciente al intervalo $\left[-0.5, 0.5\right]$ que representa la \emph{diferencia de información} entre un cálculo de la información $\beta$ evaluado en $\left[0,g\right]$, obtenido después de una operación de agregación simbólica (que actúa sobre el índice de las etiquetas), y el valor más cercano en $\left\{0,\ldots,g\right\}$ que indica el índice del término lingüístico más cercano en $P\left(p_{i}\right)$.
%\newpage
A partir de este concepto, Herrera y Martínez\cite{tuplasHerrera} desarrollan un modelo de representación de información lingüística por medio de 2-tuplas $\left(p_{i}, \alpha_{i}\right), p_{i}\in P \text{ y } \alpha_{i} \in \left[-0.5,0.5\right]$, donde $p_{i}$ representa la etiqueta lingüística central de la información, y $\alpha_{i}$ es un valor numérico que representa el desplazamiento del resultado original $\beta$ 	al índice de la etiqueta lingüística más cercana en el conjunto de términos, es decir, la Traducción Simbólica.

Este modelo de representación lingüística define un conjunto de funciones para hacer transformaciones entre términos lingüísticos, 2-tuplas y valores numéricos.
\begin{defi}
	\label{def:theta}
	Sea $p_{i} \in P$ un término lingüístico, entonces su 2-tupla equivalente viene dada por la función $\theta$ de este modo:
	\begin{equation}	
	\label{eq:theta}
		\begin{gathered}
			\theta:P \rightarrow \left( P\times \left[-0.5,0.5\right)\right) \\
			\theta\left(p_{i}\right)=\left(p_{i},0\right)/p_{i} \in S
		\end{gathered}
	\end{equation}
\end{defi}

\begin{defi}
	\label{def:delta}
	Sea $P=\left\{p_{0}, p_{1},\ldots,p_{g}\right\}$ un conjunto de términos lingüísticos y sea $\beta\in\left[0,g\right]$ un valor que representa el resultado de una operación de agregación simbólica. Entonces la 2-tupla que representa la información equivalente a $\beta$ se obtiene con la siguiente función
	
	\begin{equation}
	\label{eq:delta}
	\begin{gathered}
		\Delta:\left[0,g\right] \rightarrow P\times\left(\left[-0.5,0.5\right)\right) \\
		\Delta\left(\beta\right) = \begin{cases}
			p_{i} & i=round\left(\beta\right)  \\
			\alpha = \beta - i	& \alpha \in \left[ -0.5, 0.5\right)
		\end{cases}		
	\end{gathered}
	\end{equation}
	Donde ``round'' es la operación de redondeo, $p_{i}$ es la etiqueta lingüística más cercana al valor de $\beta$ y $\alpha$ es el valor de la traducción simbólica. 
\end{defi}

\begin{defi}
\label{def:deltaInv}
Sea $P=\left\{p_{0}, p_{1},\ldots,p_{g}\right\}$ un conjunto de términos lingüísticos, y sea $(p_{i}, \alpha_{i})$ una 2-tupla lingüística. Hay siempre una función $\Delta^{-1}$ tal que, a partir de una 2-tupla, devuelve su valor numérico equivalente $\beta \in [0,g]$.
\begin{equation}
	\label{eq:deltaInv}
	\begin{gathered}
		\Delta^{-1}:P \times [-0.5,0.5) \rightarrow [0,g]	\\
		\Delta^{-1}(p_{i},\alpha) = i + \alpha = \beta
	\end{gathered}
\end{equation}
\end{defi}

De acuerdo con lo anterior, la representación mediante 2-tuplas lingüísticas presenta ventajas sustantivas respecto a otras metodologías, debido a las posibilidades que ofrece para el tratamiento de información suministrada en distintos dominios de expresión, es decir, para operar con información lingüística multigranular sin pérdida de información.

\subsection{Operaciones con 2-tuplas}

Meter aqui los operadores $\oplus$ y $\otimes$

\section{Jerarquías lingüísticas}
El modelo de 2-tuplas parte de contextos lingüísticos con diferentes granularidades, denominados jerarquías lingüísticas, las cuales cumplen una serie de reglas y condiciones que permiten unificar la información en un único domino de expresión sin pérdida de información. Las jerarquías lingüísticas están compuestas por un conjunto de niveles, donde cada nivel es un conjunto de términos lingüísticos con distinta granularidad al resto de niveles de su jerarquía. Cada nivel de una jerarquía se puede escribir como: $$L(t,n(t))$$ donde $t$ es el número que indica el nivel de la jerarquía y $n(t)$ la granularidad del conjunto lingüístico del nivel $t$.

Los niveles dentro de una jerarquía están ordenados de acuerdo con su granularidad, es decir, para dos niveles sucesivos $t$ y $t+1$ se cumple que $n(t +1)>n(t)$.

De acuerdo con lo anterior se puede definir una jerarquía lingüística $(LH)$ como la unión de todos los niveles 

\begin{equation}
\label{eq:jerarquiaLinguistica}
	LH = \bigcup_{t}\ l(t,n(t))
\end{equation}

Para analizar la construccion de una jerarquia linguistica, teniendo en cuenta que su orden jerarquico viene dado por el incremento de la granularidad de los conjuntos de terminos linguisticos en cada nivel, se parte de un conjunto de etiquetas S sobre el dominio U en el nivel t, tal:
\begin{equation}
\label{eq:nivelJerarquia}
S=\{s_{0},s_{1}\ldots,s_{n(t)-1}\}
\end{equation}

Siendo $s_{k}$ los terminos linguisticos del conjunto $S$ con $k = 0,\ldots, n(t)$.

Para construir una jerarquia linguistica se puede extender la definicion de $S$, permitiendo la existencia de varios conjuntos de terminos linguisticos, cada uno con una granularidad distinta en cada nivel. Para ello se introduce el parametro $n(t)$ en la definicion de un conjunto de etiquetas, que representa la granularidad del conjunto del nivel $t$ donde está definido:
\begin{equation}
	\label{eq:conjuntoJerarquia}
	S^{n(t)} = \{s_{0}^{n(t)},\ldots, s^{n(t)}_{n(t)-1}\}
\end{equation}
 
En general, cabe admitir que el conjunto de terminos del nivel $t+1$ se obtiene de su predecesor como sigue:
\begin{equation}
	\label{eq:nivelesJerarquia}
	L(t,\ n(t)) \rightarrow L(t+1,\ 2\cdot n (t)-1)
\end{equation}

Asimismo, existe una funcion que permite trasladar informacion linguistica de un conjunto de terminos a otro sin perdida de informacion.Esta función es recursiva y permite la transformacion de un termino del nivel $t$ a uno del nivel $t'=t+a$ , con $a \in Z$.

Por comodidad, en el presente trabajo utilizaremos la forma no recursiva de dicha función, que se define así:
\begin{equation}
	\label{eq:transJerarquia}
	\begin{gathered}
		TF^{t}_{t'}: l(t,n(t)) \rightarrow l(t',n(t')) \\
		TF^{t}_{t'}(s_{i}^{n(t)},\alpha^{n(t)}) = \Delta\left(\frac{\Delta^{-1}(s^{n(t)}_{i}), \alpha^{n(t)})\cdot(n(t')-1)}{n(t)-1}\right)
	\end{gathered}
\end{equation}

Esta función es idempotente, esto garantiza la transformación sin pérdida de información, por lo que la representación basada en 2-tuplas lingüísticas permite ``traducir'' los resultados de los dominios iniciales de cada experto, con independencia del dominio elegido para el proceso de unificación. 


